<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Project</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="progress-container">
        <div id="progress-bar"></div>
    </div>

    <div class="container" id="scroll-container">
        <section class="zero">
            <h1>Measuring <i>health</i>.</h1>
            <h2>SP25 DSC106 Final Project: Kevin Chen, Raghav Dewangan, David Oh, Allyson Ting</h2>
            <h1 class = "animated-txt">How much do you know about mice? Why mice should matter to you...</h1>
            <img class= "mouse" src="mouse.gif" alt="running mouse">
            <img class= "mouse" src="reverse_mouse.gif" alt="running mouse">
            <img class= "mouse" src="mouse.gif" alt="running mouse">
            <h3 class="scrollDown">*scroll down*</h3>
        </section>

        <section class="one">
            <!-- <h1>First Page</h1> -->
            <div class = "txts">
                <a id = "data-link" target="_blank" href = "https://docs.google.com/spreadsheets/d/1RXL_oUa1IYxnqfCW-9duz3M83wPlki4y/edit?gid=1872476945#gid=1872476945">Mouse Data:</a>
                <p id = "data-description">To collect this data, every minute, the activity level and body temperature of healthy, male and female mice were collected for 2 weeks. Each day contained light and dark cycles.</p> 
                <p class = "lights" id="on2">Lights were on for 12 hours</p>
            </div>
        </section>

        <section class="two">
            <h1 class="lights" id="off1">Then, lights were off for 12 hours.</h1>
        </section>

        <section class="three">
            <div class="box" id="box-one-a">
                <div class="instructions" id="vis-instructions">
                <h1>How do mice react to <bdi id="on2">light</bdi> vs. <bdi id="off2">dark</bdi> cycles?</h1>
                <h2>Follow instructions below:</h2>
                <p><bdi class="step-n">1</bdi>Switch <bdi class="button-like">Time Mode</bdi> to <b>Minutes</b></p>
                <p><bdi class="step-n">2</bdi>Switch <bdi class="button-like">Data Type</bdi> to <b>Activity</b></p>
                <p><bdi class="step-n">3</bdi>Enter <bdi class="button-like">Time Range</bdi> as <b>0-1440</b> (1440 mins = 24 hrs = 1 day)</p>
                <p><bdi class="step-n">4</bdi>What do you notice? Look at the shaded regions.</p>
                </div>
                <hr>
                <div class="controls">
                <div class="control-group">
                    <label><input type="checkbox" id="toggleMale" checked> Show Males</label>
                    <label><input type="checkbox" id="toggleFemale" checked> Show Females</label>
                </div>
                <div class="control-group">
                    <label for="dataType">Data Type:</label>
                    <select id="dataType">
                    <option value="temp">Temperature</option>
                    <option value="act">Activity</option>
                    </select>
                </div>
                </div>

                <div class="controls-row-2">
                <div class="control-group">
                    <label for="timeMode">Time Mode:</label>
                    <select id="timeMode">
                    <option value="day">Day</option>
                    <option value="sec">Minutes</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="timeRange">Time Range (Minutes):</label>
                    <input type="text" id="timeRange" placeholder="e.g. 0-1440">
                </div>
                </div>

                <div class="chart-container">
                <svg class="chart" viewBox="0 0 1200 500" preserveAspectRatio="xMidYMid meet"></svg>
                </div>
            </div>
        </section>

        <section class="four">
            <h1>Quiz Question : Are mice nocturnal or <span class="vocab-word">diurnal<span class="thought-bubble">diurnal: of animals, active in the daytime <br> (vocab word of the day!)</span></span>?</h1>
            <div id="flash-overlay"></div>
            <div class="emoji-buttons">
                <span id="moon-button" class="emoji">ðŸŒ™</span>
                <span id="sun-button" class="emoji">ðŸŒž</span>
            </div>
        </section>

        <section class="five">
            <div class="slide-text" id="nocturnal-summary">
                <!--populated by JS-->
            </div>
        </section>

        <section class="six">
            <!-- TODO mimic section four: which gender tends to be more active -->
        </section>

        <section class="seven">
            <!-- TODO styling, make the text more webpage(y)-->
            <div id="estrous-chart-container">
                <h1 class="chart-title">Interactive Temperature Plot</h1>
                <p class="chart-narrative">
                Now letâ€™s look just at female mice. Like many mammals, female mice have a 4 day estrous cycle with the day of Estrus indicating the day of ovulation. Use the dropdown below to explore different phases of the estrous cycle, comparing light and dark periods across days to see how body temperature shifts. What patterns can you find?
                </p>
                <div class="insight-hover-area">
                    <span class="hover-label">ðŸ›ˆ Hover for a chart tip</span>
                    <div class="hidden-insight">
                        Use the brush selector to find interesting aggregates for the selected area!
                    </div>
                </div>
                <div id="chart-estrous"></div>
                <div id="controls-estrous"></div>
                <div id="stats-estrous" class="stats-box" style="margin-top: 15px;"></div>
                <div id="hover-info-estrous" style="margin-top: 0.2px;"></div>
                <div id="tooltip-estrous" class="tooltip" style="position: absolute; opacity: 0;"></div>
            </div>
        </section>
        <section class="ten" data-bgcolor="white">
            <!-- TODO styling. this page looks like a Hello World project -->
            <div class="txts" style="display: flex; flex-direction: column; align-items: center; text-align: center;">
                <h1 class="animated-txt">
                    98.6ÂºF (37ÂºC) is a healthy human body temperature.<br>
                    The mouse equivalent is <span id="mouse-temp-placeholder">98.4ÂºF (36.95ÂºC)</span>!
                </h1>
                <iframe src="data/mouse_activity_chart.html" width="80%" height="500" frameborder="0" style="margin-top: 2em;"></iframe>
            </div>
        </section>

        <section class="eleven">
            <!-- TODO styling/animation to emphasize key words and fill up page -->
            <div class="conclusion-container">
                <h1 class="animated-txt">But if you look closer...</h1>
            <div style="overflow-x: auto; margin-top: 2em;">
                <div style="display: flex; gap: 2%; min-width: 1200px;">
                    <iframe src="data/light_dark_temp.html" 
                            style="flex: 1; height: 400px; min-width: 600px;" 
                            frameborder="0"></iframe>
                    <iframe src="data/temp_by_sex.html" 
                            style="flex: 1; height: 400px; min-width: 600px;" 
                            frameborder="0"></iframe>
                </div>
                <h2>scroll -></h2>
            </div>
                    
                    <div class="key-findings">
                        <div class="finding-card">
                            <h3>Mice are Nocturnal</h3>
                            <p>Mice have higher body temperatures during night hours, reaching up to<span class="data-point"> 3Â°C</span> above daytime levels</p>
                        </div>
                        <div class="finding-card">
                            <h3>Females are Hotter ;)</h3>
                            <p>Female mice show temperatures <span class="data-point">consistently higher</span> than males regardless of time of day</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div class="txts">
                <h1 class="animated-txt therefore">THEREFORE a single temperature reading clearly does not tell the whole story of mouse health.</h1>
            </div> -->
        </section>

        <section class="twelve">
            <!-- TODO styling/animation to emphasize key words and fill up page -->
            <h1 class="animated-txt">A single temperature reading clearly does not tell the whole story in terms of mouse health.</h1>
            <!-- add vis that lets you click mice to see if they are healthy or not -->
        </section>

        <section class="thirteen">
            <h1 class="animated-txt">Maybe 98.6Â°F / 37Â°C does not tell the whole story about <em>your</em> health either...</h1>
        </section>

    </div>

    <script src="index.js"></script>
    <script type="module">
        import { renderTemperaturePlot } from './interactiveVisPlot.js';

        renderTemperaturePlot(
            'data/FemTemp.csv',
            '#chart-estrous',
            '#controls-estrous',
            '#stats-estrous',
            '#hover-info-estrous',
            '#tooltip-estrous'
        );
    </script>
</body>

</html>